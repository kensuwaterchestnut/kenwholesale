<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>å•ƒé…¥ï½œå˜‰å—è±è§’é…¥è·äººãƒ»æ‰¹ç™¼é›¶å”®</title>
<meta name="description" content="å•ƒé…¥ï¼šå˜‰å—ç”¢åœ°ç›´é€è±è§’é…¥ï¼Œè·äººæ¯æ—¥ç¾ç‚¸ï¼Œæ”¯æ´åœ˜åª½/ç¦®ç›’/é€šè·¯æ‰¹ç™¼ã€‚">
<style>
  :root{
    --bg:#faf7f2; --surface:#ffffff; --text:#1f2937; --muted:#6b7280;
    --brand:#f59e0b; --brand-dark:#d97706; --border:#e5e7eb; --shadow:0 10px 28px rgba(0,0,0,.06);
    --hot:#ef4444; --hot-dark:#dc2626; --pongan-surface:#fff7d6; --maogao-surface:#eef9f0;
    --sold:#111; --sold-bg:rgba(17,17,17,.55);
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth; -webkit-text-size-adjust:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC","Helvetica Neue",Arial,sans-serif}
  a{color:var(--brand-dark);text-decoration:none}
  .wrap{max-width:1100px;margin:0 auto;padding:0 16px}

  /* Hero */
  .hero{position:relative;min-height:52vh;display:grid;place-items:center;color:#fff;background-size:cover;background-position:center}
  @media(max-width:560px){.hero{min-height:44vh}}
  .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.38));z-index:0;pointer-events:none}
  .hero-inner{position:relative;z-index:1;text-align:center;padding:56px 16px}
  .logo{width:110px;height:110px;border-radius:18px;background:#fff9;padding:10px;backdrop-filter:blur(4px);display:inline-grid;place-items:center;margin-bottom:10px}
  .logo img{max-width:100%;max-height:100%}
  .hero h1{font-size:clamp(21px,4.8vw,36px);margin:4px 0 6px}
  .hero p{font-size:clamp(12.5px,3.2vw,15px);opacity:.98;margin:0}
  .pill{display:inline-block;background:#fff3;backdrop-filter:blur(4px);border:1px solid #fff7;color:#fff;border-radius:999px;padding:6px 10px;font-weight:700}

  .btn{display:inline-flex;align-items:center;gap:8px;border-radius:12px;padding:10px 14px;background:var(--brand);color:#111;font-weight:700;border:1px solid rgba(0,0,0,.05);box-shadow:0 10px 20px rgba(245,158,11,.25);cursor:pointer;font-size:clamp(12.5px,3vw,15px)}
  .btn:hover{background:var(--brand-dark)}
  .btn-ghost{background:#f9fafb;border:1px solid var(--border);color:var(--text);box-shadow:none}
  .btn-ghost:hover{background:#f3f4f6}
  .btn-red{background:var(--hot);color:#fff;border-color:#ef4444;box-shadow:0 10px 20px rgba(239,68,68,.25)}
  .btn-red:hover{background:var(--hot-dark)}
  .btn-block{width:100%;justify-content:center}

  .section{padding:34px 0}
  .section h2{font-size:clamp(17px,3.8vw,25px);margin:0 0 10px}
  .muted{color:var(--muted)}
  .card{background:var(--surface);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow)}
  .grid{display:grid;gap:16px}
  @media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
  .content{padding:16px}
  .content p{margin:0 0 10px;line-height:1.8;font-size:clamp(13.5px,3.2vw,15px)}
  .content ul{margin:0;padding-left:1.2em;line-height:1.8}
  .content li{margin:4px 0}
  .note{font-size:12.5px;color:var(--muted)}

  /* åˆ†é¡ç±¤ï¼šå–®æ’æ©«å‘æ»‘å‹• */
  .subnav{position:sticky;top:0;z-index:40;background:var(--surface);border-bottom:1px solid var(--border);box-shadow:0 6px 20px rgba(0,0,0,.04)}
  .subnav .rail{display:flex;gap:8px;align-items:center;padding:10px 4px;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;scroll-snap-type:x proximity}
  .subnav .rail::-webkit-scrollbar{height:6px}
  .subnav .rail::-webkit-scrollbar-thumb{background:#e6e6e6;border-radius:999px}
  .chip{flex:0 0 auto;background:#fef3c7;border:1px solid #fde68a;color:#7c2d12;padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer;scroll-snap-align:center;font-size:clamp(12.5px,3vw,14px)}
  .chip:hover{background:#fde68a}

  /* æ©«å‘æ»‘å‹•å¡ç‰‡ï¼ˆæ–°è/è¦æ ¼å…±ç”¨ï¼‰ */
  .rail-cards{display:flex;gap:12px;overflow:auto;padding:10px 4px}
  .rail-cards::-webkit-scrollbar{height:6px}
  .rail-cards::-webkit-scrollbar-thumb{background:#e6e6e6;border-radius:999px}
  .rail-cards .card{flex:0 0 auto;width:min(480px,92%)}
  .spec-cards .card{width:min(360px,48%)}
  @media(min-width:900px){.spec-cards .card{width:min(420px,32%)}}

  /* ç”¢å“ç¶²æ ¼ï¼ˆå…©æ¬„ï¼‰ */
  .product-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
  @media(min-width:960px){.product-grid{gap:14px}}
  .product{display:flex;flex-direction:column;position:relative}
  .product .imgwrap{position:relative}
  .product img{width:100%;aspect-ratio:4/3;height:auto;object-fit:cover;border-radius:14px 14px 0 0}
  .sold-badge{position:absolute;inset:0;display:grid;place-items:center;background:var(--sold-bg);color:#fff;font-weight:900;border-radius:14px 14px 0 0;font-size:18px;letter-spacing:2px}
  .product .body{padding:10px 12px}
  .title{margin:0;font-weight:700;font-size:clamp(12.5px,3.5vw,15px);line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.4em}
  .price{font-weight:800;font-size:clamp(14px,3.8vw,16px)}
  .row-between{display:flex;align-items:center;justify-content:space-between}
  .tag-hot{display:inline-block;background:var(--hot);color:#fff;border:1px solid #ef4444;border-radius:10px;padding:3px 7px;font-size:12px;font-weight:800}

  /* å€å¡Šä¸»é¡Œï¼ˆå»¶ç”¨ï¼‰ */
  .theme-hot .content{background:#fee2e2;border-color:#fecaca}
  .theme-pongan .content{background:#fff7e6;border-color:#fde68a}
  .theme-maogao .content{background:#eef9f0;border-color:#bbf7d0}

  /* æŠ½å±œï¼ˆå…±ç”¨ï¼‰ */
  .drawer{position:fixed;right:0;top:0;bottom:0;width:min(480px,96%);background:var(--surface);border-left:1px solid var(--border);
    transform:translateX(105%);transition:.28s;z-index:60;display:flex;flex-direction:column}
  .drawer.open{transform:none}
  .drawer header{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:8px}
  .drawer header .btns{display:flex;gap:8px}
  .drawer main{padding:12px 14px;overflow:auto;flex:1}
  .line{height:1px;background:var(--border);margin:10px 0}

  .cart-row{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:8px 0}
  .qty{display:flex;align-items:center;border:1px solid var(--border);border-radius:10px}
  .qty button{width:30px;height:30px;border:0;background:#f3f4f6}
  .qty span{display:inline-block;width:32px;text-align:center}

  .summary{background:#f9fafb;border:1px dashed var(--border);border-radius:12px;padding:12px}
  .badge{display:inline-block;background:#fff0d6;color:#7c2d12;border:1px solid #fed7aa;border-radius:10px;padding:4px 8px;font-size:12px;font-weight:700}
  .warn{background:#fff1f2;border:1px solid #fecdd3;color:#7f1d1d}

  /* è¡¨å–® */
  .form .row{display:grid;gap:10px}
  @media(min-width:720px){.form .row{grid-template-columns:1fr 1fr}}
  .label{font-weight:700;margin:8px 0 6px}
  .input, select, textarea{width:100%;padding:12px;border:1px solid var(--border);border-radius:10px;background:#fff;font-size:16px}
  input, select, textarea{touch-action:manipulation}
  .help{font-size:12px;color:#6b7280;margin-top:4px}

  /* æµ®å‹•è³¼ç‰©è»Šï¼ˆæ”¹æˆğŸŠï¼‰ */
  .fab{position:fixed;right:16px;bottom:calc(16px + env(safe-area-inset-bottom));z-index:55;background:var(--brand);color:#111;border:1px solid rgba(0,0,0,.06);
    padding:12px 16px;border-radius:999px;box-shadow:0 10px 18px rgba(245,158,11,.35);display:flex;align-items:center;gap:8px;font-weight:800;cursor:pointer}
  .fab .icon{font-size:18px}
  .fab-badge{display:inline-block;min-width:22px;height:22px;border-radius:999px;background:#111;color:#fff;font-size:12px;line-height:22px;text-align:center;padding:0 6px}

  /* ä¸èµ·çœ¼çš„ç®¡ç†å“¡æŒ‰éˆ•ï¼ˆå·¦ä¸‹è§’ï¼‰ */
  .admin-btn{position:fixed;left:14px;bottom:calc(16px + env(safe-area-inset-bottom));z-index:56;background:#fff;border:1px solid var(--border);border-radius:999px;box-shadow:var(--shadow);padding:8px 10px;opacity:.5;cursor:pointer}
  .admin-btn:hover{opacity:.9}

  /* å³ä¸‹è§’é½’è¼ªï¼ˆåº«å­˜ç·¨è¼¯ï¼‰ */
  .gear{position:fixed;right:16px;bottom:calc(68px + env(safe-area-inset-bottom));z-index:55;background:#fff;border:1px solid var(--border);border-radius:999px;box-shadow:var(--shadow);padding:10px 12px;cursor:pointer}

  /* Toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:calc(86px + env(safe-area-inset-bottom));background:#111;color:#fff;padding:10px 14px;border-radius:999px;box-shadow:var(--shadow);z-index:70;opacity:0;pointer-events:none;transition:.25s}
  .toast.show{opacity:1;transform:translate(-50%,-8px)}

  footer{padding:34px 0 56px;color:#6b7280;text-align:center}
</style>
</head>
<body>

<!-- è³¼ç‰©è»ŠæŠ½å±œ -->
<aside id="drawer" class="drawer" aria-hidden="true">
  <header>
    <strong>è³¼ç‰©è»Š</strong>
    <div class="btns">
      <button class="btn-ghost" onclick="clearCart()">æ¸…ç©ºè³¼ç‰©è»Š</button>
      <button class="btn" onclick="toggleDrawer(false)">é—œé–‰</button>
    </div>
  </header>
  <main>
    <div id="cartList"></div>

    <div class="line"></div>

    <!-- é…é€æ–¹å¼ -->
    <div class="summary" style="margin-bottom:10px">
      <div class="label">é…é€æ–¹å¼</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button id="shipHomeBtn" class="btn" type="button" onclick="setShipMethod('HOME')">å®…é…</button>
        <button id="shipCvsBtn" class="btn-ghost" type="button" onclick="setShipMethod('CVS')">è¶…å•†å–è²¨ï¼ˆå…é‹ï½œé™10æ–¤Ã—1ï¼‰</button>
      </div>
      <div class="help">
        è¶…å•†å–è²¨é™ã€Œå–®ä¸€ 10 å°æ–¤ Ã— 1 ç®±ã€ã€‚<br>
        <span class="badge">é¸é–€å¸‚å°å¹«æ‰‹</span> æœƒä»¥ã€Œæ–°è¦–çª—ã€é–‹å•Ÿå®˜æ–¹æŸ¥è©¢ï¼›é¸å¥½å¾Œå›åˆ°æ­¤é ï¼ŒæŒ‰ã€Œè²¼ä¸Šå‰ªè²¼ç°¿ã€å¯è‡ªå‹•å¸¶å…¥ã€‚
      </div>
    </div>

    <!-- é‹è²»èˆ‡ç¸½é¡ -->
    <div class="summary">
      <div class="row-between"><span>å•†å“å°è¨ˆ</span><strong id="subtotal">$0</strong></div>
      <div class="row-between"><span id="shipLabel">é‹è²»ï¼ˆå®…é…ï¼‰</span><strong id="shipping">$0</strong></div>
      <div class="line"></div>
      <div class="row-between" style="font-size:18px"><span>æ‡‰ä»˜é‡‘é¡</span><strong id="total">$0</strong></div>
      <div class="note" style="margin-top:8px">å®…é…æ»¿é¡ <b id="freeShipText">0</b> å…é‹ï¼›è¶…å•†å–è²¨ä¸€å¾‹å…é‹ã€‚</div>
    </div>

    <div class="line"></div>

    <!-- ä¸‹å–®è¡¨å–® -->
    <form id="orderForm" class="form" onsubmit="submitOrder(event)">
      <div class="row">
        <div>
          <div class="label">å§“å</div>
          <input class="input" name="name" placeholder="ä¾‹ï¼šç‹å•ƒé…¥" required>
        </div>
        <div>
          <div class="label">æ‰‹æ©Ÿ</div>
          <input class="input" name="phone" placeholder="ä¾‹ï¼š0912-345-678" required>
        </div>
      </div>
      <div class="row">
        <div>
          <div class="label">Emailï¼ˆå¯„é€å‡ºè²¨é€šçŸ¥ï¼‰</div>
          <input class="input" type="email" name="email" placeholder="ä¾‹ï¼škensu@example.com" required>
        </div>
        <div>
          <div class="label">ç‰©æµæ–¹å¼</div>
          <select name="ship" class="input" required>
            <option value="å®…é…">å®…é…</option>
            <option value="è¶…å•†å–è²¨">è¶…å•†å–è²¨ï¼ˆå…é‹ï½œé™10æ–¤Ã—1ï¼‰</option>
            <option value="è‡ªå–ï¼ˆå°å—å®˜ç”°ï¼šé¢äº¤é»ï¼‰">è‡ªå–ï¼ˆå°å—å®˜ç”°ï¼šé¢äº¤é»ï¼‰</option>
          </select>
          <div class="help">æ­¤æ¬„æœƒè·Ÿä¸Šæ–¹ã€Œé…é€æ–¹å¼ã€åŒæ­¥ã€‚</div>
        </div>
      </div>

      <!-- åœ°å€ï¼è¶…å•† -->
      <div id="homeFields">
        <div class="label">æ”¶ä»¶åœ°å€ï¼ˆå®…é…å°ˆç”¨ï¼‰</div>
        <input class="input" name="addr" placeholder="ä¾‹ï¼šå°å—å¸‚â—‹â—‹å€â—‹â—‹è·¯ 123 è™Ÿ 5 æ¨“" required>
      </div>

      <div id="cvsFields" style="display:none">
        <div class="row">
          <div>
            <div class="label">è¶…å•†å“ç‰Œï¼ˆ7-11ï¼å…¨å®¶ï¼‰</div>
            <select class="input" name="cvsBrand" onchange="updateCvsLink()">
              <option value="7-11">7-11</option>
              <option value="å…¨å®¶">å…¨å®¶</option>
            </select>
            <div class="help">
              <a id="cvsFinderLink" href="https://emap.pcsc.com.tw/" target="_blank" rel="noopener">é–‹å•Ÿ 7-11 é–€å¸‚æŸ¥è©¢ï¼ˆæ–°è¦–çª—ï¼‰</a>ã€€
              <button type="button" class="btn-ghost" onclick="pasteCvsFromClipboard()">è²¼ä¸Šå‰ªè²¼ç°¿</button>
            </div>
          </div>
          <div>
            <div class="label">é–€å¸‚åç¨± / åº—è™Ÿ</div>
            <input class="input" name="cvsStore" placeholder="ä¾‹ï¼šå°å—å®˜ç”°é–€å¸‚ / 123456">
            <div class="help">å…ˆåˆ°å®˜æ–¹æŸ¥è©¢é é¸å¥½é–€å¸‚ï¼Œå†å›ä¾†æŒ‰ã€Œè²¼ä¸Šå‰ªè²¼ç°¿ã€è‡ªå‹•å›å¡«ï¼›æˆ–æ‰‹å‹•è¼¸å…¥ã€‚</div>
          </div>
        </div>
      </div>

      <div>
        <div class="label">å‚™è¨»ï¼ˆåˆ°è²¨æ™‚æ®µç­‰ï¼‰</div>
        <textarea class="input" name="remark" rows="3" placeholder="ä¾‹ï¼šå¹³æ—¥ 18:00 å¾Œæ”¶ä»¶"></textarea>
      </div>

      <!-- åŒæ„æ¢æ¬¾ -->
      <div class="line"></div>
      <div class="label">ç‰©æµèˆ‡é€€è²¨èªªæ˜</div>
      <details id="policy" class="card content" style="max-height:220px;overflow:auto">
        <summary style="cursor:pointer"><b>è«‹å±•é–‹é–±è®€ï¼ˆéœ€æ²åˆ°æœ€åº•æ‰å¯å‹¾é¸åŒæ„ï¼‰</b></summary>
        <div class="content" style="padding-top:10px">
          <ul>
            <li>å…¥å¸³å¾Œ 1â€“3 å€‹å·¥ä½œå¤©å…§å‡ºè²¨ï¼ˆé€±æœ«èˆ‡ç¯€æ…¶é‡å¤§æ™‚é †å»¶ï¼‰ã€‚</li>
            <li>å®…é…ï¼šæ–°ç«¹è²¨é‹ï¼ˆå¸¸æº«ï¼‰ã€‚åˆ°è²¨è«‹ã€Œå…¨ç¨‹é–‹ç®±éŒ„å½±ã€ã€‚è‹¥æœ‰é‹æï¼Œ<b>24 å°æ™‚å…§æä¾›å½±ç‰‡èˆ‡ç…§ç‰‡</b>ï¼Œæˆ‘å€‘å”åŠ©å‘ç‰©æµç†è³ ã€‚</li>
            <li>è¶…å•†å–è²¨ï¼š<b>å…é‹</b>ï¼Œ<b>é™å–®ä¸€ 10 å°æ–¤ Ã— 1 ç®±</b>ï¼Œä¸”ç›®å‰<b>ä¸æ¥å—å¤–å³¶é…é€</b>ã€‚</li>
            <li>è±è§’é…¥ç‚ºæ²¹ç‚¸é»å¿ƒï¼Œå»ºè­°å†·å‡ä¿å­˜ï¼Œé£Ÿç”¨å‰ä»¥æ°£ç‚¸é‹æˆ–çƒ¤ç®±å›æº«ã€‚</li>
            <li>ä¾é£Ÿå“è¡›ç”Ÿæ³•ï¼Œéå› ç‘•ç–µæ•ä¸æ¥å—é‘‘è³æœŸé€€æ›ã€‚</li>
          </ul>
          <p class="note">è«‹ç¢ºèªä¸Šè¿°å…§å®¹ï¼Œæ²åˆ°åº•å³å¯å•Ÿç”¨åŒæ„å‹¾é¸ã€‚</p>
        </div>
      </details>
      <div style="margin:8px 0">
        <label for="agree">
          <input type="checkbox" id="agree" disabled>
          æˆ‘å·²è©³é–±<span style="text-decoration:underline">ä¸Šæ–¹</span>ã€Œç‰©æµèˆ‡é€€è²¨èªªæ˜ã€ä¸¦åŒæ„
        </label>
        <div class="help">ï¼ˆè‹¥æœªå•Ÿç”¨ï¼Œè«‹å…ˆå±•é–‹ä¸¦æ²åˆ°æœ€åº•ï¼‰</div>
      </div>

      <button id="submitBtn" class="btn btn-block" type="submit">é€å‡ºè¨‚å–®</button>
      <div id="result" class="note" style="margin-top:8px"></div>
    </form>
  </main>
</aside>

<!-- è¨‚å–®æŸ¥è©¢æŠ½å±œ -->
<aside id="queryDrawer" class="drawer" aria-hidden="true">
  <header>
    <strong>è¨‚å–®æŸ¥è©¢</strong>
    <div class="btns">
      <button class="btn" onclick="toggleQuery(false)">é—œé–‰</button>
    </div>
  </header>
  <main>
    <form id="queryForm" onsubmit="queryOrder(event)" class="form">
      <div>
        <div class="label">è¨‚å–®ç·¨è™Ÿ</div>
        <input class="input" name="orderNo" placeholder="ä¾‹ï¼šK24-20251008-1234" required>
      </div>
      <button class="btn" type="submit" style="margin-top:8px">æŸ¥è©¢</button>
    </form>
    <div class="line"></div>
    <div id="queryCard" class="card content" style="display:none"></div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="dlPngBtn" class="btn-ghost" onclick="downloadQueryPNG()" style="display:none">ä¸€éµæˆªåœ–ï¼ˆPNGï¼‰</button>
      <button id="printBtn" class="btn-ghost" onclick="window.print()" style="display:none">åˆ—å° / å­˜ PDF</button>
    </div>
  </main>
</aside>

<!-- ç®¡ç†å“¡æŠ½å±œï¼ˆç™»å…¥ï¼‹ç®¡ç†é¢æ¿ï¼‰ -->
<aside id="adminDrawer" class="drawer" aria-hidden="true">
  <header>
    <strong>ç®¡ç†é¢æ¿</strong>
    <div class="btns">
      <button class="btn-ghost" onclick="logoutAdmin()">ç™»å‡º</button>
      <button class="btn" onclick="toggleAdmin(false)">é—œé–‰</button>
    </div>
  </header>
  <main id="adminBody" class="content">
    <!-- å…§å®¹ç”± JS ä¾ç™»å…¥ç‹€æ…‹æ¸²æŸ“ -->
  </main>
</aside>

<!-- æµ®å‹•è³¼ç‰©è»ŠæŒ‰éˆ•ï¼ˆæ”¹æ©˜å­æ¨£å¼ï¼‰ -->
<button id="cartFab" class="fab" aria-label="é–‹å•Ÿè³¼ç‰©è»Š" onclick="toggleDrawer(true)">
  <span class="icon">ğŸŠ</span> è³¼ç‰©è»Š <span id="fabCount" class="fab-badge">0</span>
</button>

<!-- ä¸èµ·çœ¼çš„ç®¡ç†å“¡æŒ‰éˆ• -->
<button class="admin-btn" onclick="toggleAdmin(true)" title="ç®¡ç†å“¡">ğŸ”’</button>

<!-- åº«å­˜ç·¨è¼¯é½’è¼ªï¼ˆæœªç™»å…¥æ™‚æœƒå¼•å°ç™»å…¥ï¼‰ -->
<button class="gear" onclick="toggleInvEdit()" title="åº«å­˜ç·¨è¼¯">âš™ï¸</button>

<!-- Hero -->
<section class="hero" id="hero">
  <div class="hero-inner wrap">
    <div class="logo"><img id="logoImg" src="" alt="å•ƒé…¥ LOGO"></div>
    <span class="pill" id="heroPill">å˜‰å—ç”¢åœ°ç›´é€ï½œè·äººç¾ç‚¸</span>
    <h1 id="heroTitle">å•ƒé…¥ï½œå˜‰å—è±è§’é…¥è·äººãƒ»æ‰¹ç™¼é›¶å”®</h1>
    <p id="heroSub">åœ˜åª½/é€šè·¯/ç¦®ç›’åˆä½œï¼Œå†·å‡ä¿å­˜ã€å›çƒ¤å³äº«é…¥é¦™ã€‚æ”¯æ´å¤§é‡å‡ºè²¨èˆ‡ä¼æ¥­å®¢è£½ã€‚</p>
    <div style="margin-top:14px">
      <a id="shopNowBtn" class="btn" href="#hot" onclick="go(event,'hot')">é¦¬ä¸Šé¸è³¼</a>
    </div>
  </div>
</section>

<!-- åˆ†é¡éŒ¨é» -->
<nav class="subnav">
  <div class="wrap">
    <div class="rail" id="chipRail">
      <button class="chip" onclick="go(event,'hot')">ğŸ”¥ ç†±éŠ·æ¬¾</button>
      <button class="chip" onclick="go(event,'pongan')">ç¶“å…¸åŸå‘³</button>
      <button class="chip" onclick="go(event,'maogao')">è’œé¦™/èƒ¡æ¤’</button>
      <button class="chip" onclick="toggleQuery(true)">è¨‚å–®æŸ¥è©¢</button>
    </div>
  </div>
</nav>

<!-- å“ç‰Œæ•…äº‹ + æœ€æ–°é®®å ± -->
<section class="section">
  <div class="wrap grid grid-2">
    <div class="card content" id="aboutCard">
      <h2 id="aboutTitle">é—œæ–¼ã€Œå•ƒé…¥ã€</h2>
      <p id="aboutP1">æˆ‘å€‘åªåšä¸€ä»¶äº‹ï¼šæŠŠæœ€é…¥çš„è±è§’é…¥ï¼Œç©©ç©©é€åˆ°ä½ æ‰‹ä¸Šã€‚</p>
      <p id="aboutP2"><b>å˜‰å—å®˜ç”°è±è§’</b>æ¯æ—¥æ–°é®®å»æ®¼èˆ‡å‰è™•ç†ï¼Œ<b>è·äººæ§æº«æ²¹ç‚¸</b>ã€ä½æº«æ€¥å‡ï¼Œä¿ç•™å¤–é…¥å…§ç¶¿ã€‚</p>
      <p id="aboutP3">ä¸è«–æ˜¯åœ˜è³¼ã€æ‰¹ç™¼æˆ–ç¦®ç›’ï¼Œæˆ‘å€‘éƒ½èƒ½å®¢è£½é‡é‡èˆ‡å£å‘³ã€‚<br><b>é…¥é¦™ä¸€å£ï¼Œå›ç”˜ä¸è†©ã€‚</b></p>
    </div>

    <div class="card content">
      <h2 id="newsTitle">æœ€æ–°é®®å ±ï½œæ²¹é‹æ—¥èªŒ</h2>
      <div class="rail-cards" id="newsRail"></div>
    </div>
  </div>
</section>

<!-- è¦æ ¼ç­‰ç´šï¼šç¨ç«‹å€å¡Š -->
<section class="section">
  <div class="wrap">
    <div class="card content" style="padding-bottom:0">
      <h2 id="specTitle">è¦æ ¼èˆ‡å£å‘³</h2>
      <p class="muted" id="specSub" style="margin-top:-6px">æ¯åŒ…çš†é™„å›çƒ¤èªªæ˜ï¼Œå†·å‡ä¿å­˜ 3 å€‹æœˆ</p>
    </div>
    <div class="rail-cards spec-cards" id="specRail" style="padding:10px 14px"></div>
  </div>
</section>

<!-- ç†±éŠ· -->
<section id="hot" class="section theme-hot">
  <div class="wrap">
    <div class="card content" style="padding-bottom:0">
      <h2 id="hotTitle">ğŸ”¥ ç†±éŠ·æ¬¾</h2>
      <p class="muted" id="hotSub" style="margin-top:-6px">é€šè·¯èˆ‡åœ˜åª½æœ€å¸¸ä¸‹å–®çš„çµ„åˆ</p>
    </div>
    <div class="card" style="padding:0 14px 14px">
      <div id="hotGrid" class="product-grid"></div>
    </div>
  </div>
</section>

<!-- åˆ†å€ä¸€ï¼šç¶“å…¸åŸå‘³ -->
<section id="pongan" class="section theme-pongan">
  <div class="wrap">
    <div class="card content" style="padding-bottom:0">
      <h2 id="sec1Title">ç¶“å…¸åŸå‘³ï¼ˆå°è¾²ç›´é€ï¼‰</h2>
      <p class="muted" id="sec1Sub" style="margin-top:-6px">å¤–é…¥å…§ç¶¿ï½œå›ç”˜ä¸è†©ï½œè€å°‘å’¸å®œ</p>
    </div>
    <div class="card" style="padding:0 14px 14px">
      <div id="ponganGrid" class="product-grid"></div>
    </div>
  </div>
</section>

<!-- åˆ†å€äºŒï¼šè’œé¦™/èƒ¡æ¤’ -->
<section id="maogao" class="section theme-maogao">
  <div class="wrap">
    <div class="card content" style="padding-bottom:0">
      <h2 id="sec2Title">è’œé¦™ / èƒ¡æ¤’ï¼ˆä¸‹é…’é¦–é¸ï¼‰</h2>
      <p class="muted" id="sec2Sub" style="margin-top:-6px">é¦™æ°£æ¿ƒéƒï½œè¶Šåƒè¶Šæ¶®å˜´</p>
    </div>
    <div class="card" style="padding:0 14px 14px">
      <div id="maogaoGrid" class="product-grid"></div>
    </div>
  </div>
</section>

<!-- åŒ¯æ¬¾è³‡è¨Š -->
<section class="section">
  <div class="wrap card content">
    <h2>åŒ¯æ¬¾è³‡è¨Š</h2>
    <p><strong id="bankName"></strong>ã€€æˆ¶åï¼š<strong id="bankHolder"></strong></p>
    <p>å¸³è™Ÿï¼š<strong id="bankNo"></strong></p>
    <p class="note">
      è©¢åƒ¹/åˆä½œä¿¡ç®±ï¼š<a href="mailto:kensu.water.chestnut@gmail.com" target="_blank">kensu.water.chestnut@gmail.com</a><br>
      æ‰¹åƒ¹è©¦ç®—è¡¨ï¼š<a href="https://docs.google.com/spreadsheets/d/1deY_CNcks1hJBxCrrDq9GfXEmDd5y53X8anLePb8ts8/edit?gid=0#gid=0" target="_blank">å•ƒé…¥è©¦ç®—è¡¨ï¼ˆGoogle è©¦ç®—è¡¨ï¼‰</a>
    </p>
  </div>
</section>

<footer>
  <div class="wrap">
    <div class="content" style="text-align:center;padding-top:0">
      <div class="muted">Â© å•ƒé…¥ï½œå˜‰å—è±è§’é…¥è·äººãƒ»æ‰¹ç™¼é›¶å”®</div>
      <div class="muted">é¢äº¤é»ï¼šå°å—å¸‚å®˜ç”°å€ï¼ˆé ç´„åˆ¶ï¼‰ã€€|ã€€å®¢æœï¼škensu.water.chestnut@gmail.com</div>
    </div>
  </div>
</footer>

<!-- Toast -->
<div id="toast" class="toast" role="status" aria-live="polite">å·²åŠ å…¥è³¼ç‰©è»Š</div>

<script>
/** =========================
 *  è¨­å®šï¼ˆå…¨éƒ¨å¯ç”±ç®¡ç†å“¡é¢æ¿ç·¨è¼¯ï¼‰
 *  ========================= */
const CONFIG = {
  BRAND_TAG: "å•ƒé…¥",
  CONTACT_EMAIL: "kensu.water.chestnut@gmail.com",
  SHEET_URL: "https://docs.google.com/spreadsheets/d/1deY_CNcks1hJBxCrrDq9GfXEmDd5y53X8anLePb8ts8/edit?gid=0#gid=0",
  GAS_ENDPOINT: "https://script.google.com/macros/s/AKfycbw5y8y1Yw7ymc7bP-iqV4KmxMB7l3c1wxMpPK1F6-d_vx_ejiIhCzhq0CyHPxDUNM92/exec",

  PRICES: {
    ORIGIN: { "500g": { "åŸå‘³": 159 }, "1kg": { "åŸå‘³": 299 } },
    FLAVOR: { "500g": { "è’œé¦™": 169, "èƒ¡æ¤’": 169 }, "1kg": { "è’œé¦™": 319, "èƒ¡æ¤’": 319 } }
  },

  SHIPPING: 160,
  FREE_SHIP_THRESHOLD: 1800,

  BANK: { name: "é€£ç·šéŠ€è¡Œ(824)", holder: "å¼µéˆæ³“", no: "11101-37823-13" },

  TEXTS: {
    heroPill:"å˜‰å—ç”¢åœ°ç›´é€ï½œè·äººç¾ç‚¸",
    heroTitle:"å•ƒé…¥ï½œå˜‰å—è±è§’é…¥è·äººãƒ»æ‰¹ç™¼é›¶å”®",
    heroSub:"åœ˜åª½/é€šè·¯/ç¦®ç›’åˆä½œï¼Œå†·å‡ä¿å­˜ã€å›çƒ¤å³äº«é…¥é¦™ã€‚æ”¯æ´å¤§é‡å‡ºè²¨èˆ‡ä¼æ¥­å®¢è£½ã€‚",
    ctaLabel:"é¦¬ä¸Šé¸è³¼",
    chips:["ğŸ”¥ ç†±éŠ·æ¬¾","ç¶“å…¸åŸå‘³","è’œé¦™/èƒ¡æ¤’","è¨‚å–®æŸ¥è©¢"],
    aboutTitle:"é—œæ–¼ã€Œå•ƒé…¥ã€",
    aboutP1:"æˆ‘å€‘åªåšä¸€ä»¶äº‹ï¼šæŠŠæœ€é…¥çš„è±è§’é…¥ï¼Œç©©ç©©é€åˆ°ä½ æ‰‹ä¸Šã€‚",
    aboutP2:"å˜‰å—å®˜ç”°è±è§’æ¯æ—¥æ–°é®®å»æ®¼èˆ‡å‰è™•ç†ï¼Œè·äººæ§æº«æ²¹ç‚¸ã€ä½æº«æ€¥å‡ï¼Œä¿ç•™å¤–é…¥å…§ç¶¿ã€‚",
    aboutP3:"ä¸è«–æ˜¯åœ˜è³¼ã€æ‰¹ç™¼æˆ–ç¦®ç›’ï¼Œæˆ‘å€‘éƒ½èƒ½å®¢è£½é‡é‡èˆ‡å£å‘³ã€‚é…¥é¦™ä¸€å£ï¼Œå›ç”˜ä¸è†©ã€‚",
    newsTitle:"æœ€æ–°é®®å ±ï½œæ²¹é‹æ—¥èªŒ",
    specTitle:"è¦æ ¼èˆ‡å£å‘³",
    specSub:"æ¯åŒ…çš†é™„å›çƒ¤èªªæ˜ï¼Œå†·å‡ä¿å­˜ 3 å€‹æœˆ",
    hotTitle:"ğŸ”¥ ç†±éŠ·æ¬¾",
    hotSub:"é€šè·¯èˆ‡åœ˜åª½æœ€å¸¸ä¸‹å–®çš„çµ„åˆ",
    sec1Title:"ç¶“å…¸åŸå‘³ï¼ˆå°è¾²ç›´é€ï¼‰",
    sec1Sub:"å¤–é…¥å…§ç¶¿ï½œå›ç”˜ä¸è†©ï½œè€å°‘å’¸å®œ",
    sec2Title:"è’œé¦™ / èƒ¡æ¤’ï¼ˆä¸‹é…’é¦–é¸ï¼‰",
    sec2Sub:"é¦™æ°£æ¿ƒéƒï½œè¶Šåƒè¶Šæ¶®å˜´"
  },

  IMAGES: {
    HERO: toRaw("https://raw.githubusercontent.com/s9000721-cloud/gonglaoping/main/%E5%B0%81%E9%9D%A2%E5%9C%96.png"),
    LOGO: toRaw("https://raw.githubusercontent.com/s9000721-cloud/gonglaoping/main/%E6%9F%91%E5%BF%83%E6%9E%9C%E5%9C%92LOGO.png"),
    SPEC_GALLERY: [
      toRaw("https://via.placeholder.com/1200x800?text=%E5%8D%B1%E8%AD%A6%EF%BC%9A%E7%94%A8+%E7%9C%9F%E5%84%AA%E7%BE%8E+%E7%85%A7%E7%89%87%E6%9B%BF%E6%8F%9B"),
      "https://via.placeholder.com/1200x800?text=%E5%8F%A3%E5%91%B3%E8%A8%AD%E5%AE%9A",
      "https://via.placeholder.com/1200x800?text=%E5%9B%9E%E7%83%A4%E6%8C%87%E5%BC%95"
    ],
    NEWS: [
      {type:"video", src:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ä»Šæ—¥æ²¹é‹æº«åº¦ç´€éŒ„"},
      {type:"image", src:"https://via.placeholder.com/1200x800?text=%E7%94%A8%E7%85%A7%E7%89%87%E6%9B%BF%E6%8F%9B", title:"å‰›å‡ºé‹çš„é‡‘é»ƒ"},
      {type:"image", src:"https://via.placeholder.com/1200x800?text=%E8%A3%9D%E7%AE%B1%E7%AD%86%E8%A8%98", title:"è£ç®±å‚™è²¨"}
    ],
    ORIGIN: { // åŸå‘³
      "500g-åŸå‘³": "https://via.placeholder.com/800x600?text=%E5%8E%9F%E5%91%B3+500g",
      "1kg-åŸå‘³": "https://via.placeholder.com/800x600?text=%E5%8E%9F%E5%91%B3+1kg"
    },
    FLAVOR: { // è’œé¦™/èƒ¡æ¤’
      "500g-è’œé¦™": "https://via.placeholder.com/800x600?text=%E8%92%9C%E9%A6%99+500g",
      "1kg-è’œé¦™": "https://via.placeholder.com/800x600?text=%E8%92%9C%E9%A6%99+1kg",
      "500g-èƒ¡æ¤’": "https://via.placeholder.com/800x600?text=%E8%83%A1%E6%A4%92+500g",
      "1kg-èƒ¡æ¤’": "https://via.placeholder.com/800x600?text=%E8%83%A1%E6%A4%92+1kg"
    }
  },

  INVENTORY: {
    "ORI05-PLN":{sold:12, stock:999},
    "ORI10-PLN":{sold:9, stock:0},
    "FLV05-GAR":{sold:34, stock:88},
    "FLV10-GAR":{sold:5, stock:12},
    "FLV05-PEP":{sold:18, stock:0},
    "FLV10-PEP":{sold:2, stock:7}
  }
};

// è½‰ raw.githubusercontentï¼ˆGitHub/ä¸€èˆ¬ç¶²å€çš†å¯ï¼‰ï¼š
function toRaw(u){
  if(!u) return u;
  if(u.includes('raw.githubusercontent.com')) return u;
  if(u.includes('github.com')){
    return u.replace('https://github.com/','https://raw.githubusercontent.com/').replace('/blob/','/');
  }
  return u; // é GitHub ä¿æŒåŸæ¨£
}
</script>

<!-- ä¸€éµæˆªåœ–ç”¨ï¼ˆä¸å½±éŸ¿é é¢ï¼ŒCDN å¯æ›ï¼‰ -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<!-- ====== ç¬¬ 2 éƒ¨åˆ† JS çºŒä¸Š ====== -->
<script>
